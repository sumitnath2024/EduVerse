<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>User Dashboard - EduVerse</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">

  <style>
    .services-list ul {
      padding-left: 20px;
      list-style: none;
    }
    .services-list ul li {
      padding: 5px 0;
    }
    .services-list ul li a {
      color: #6c757d;
      text-decoration: none;
      display: block;
      padding: 5px 0;
      cursor: pointer;
    }
    .iframe-container {
      position: relative;
      padding-top: 56.25%; /* 16:9 Aspect Ratio */
    }
    .iframe-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }
    .page-padding {
      padding-top: 100px; /* Adjust the value as needed */
    }
  </style>
</head>

<body class="service-details-page page-padding">
  <main class="main">

    <!-- Page Title -->
    <div class="page-title" data-aos="fade">
      <div class="container d-lg-flex justify-content-between align-items-center">
        <h1 class="mb-2 mb-lg-0">Welcome, <span id="userName">[User Name]</span></h1>
        <nav class="breadcrumbs">
          <ol>
            <li><a href="user-dashboard.html">Dashboard</a></li>	    
          </ol>
        </nav>
      </div>
    </div><!-- End Page Title -->

    <!-- Service Details Section -->
    <section id="service-details" class="service-details section">
      <div class="container">
        <div class="row gy-5">
          <div class="col-lg-4" data-aos="fade-up" data-aos-delay="100">
            <div class="service-box">
              <h4>Manage</h4>
              <div class="services-list">
                <ul>
                  <li><a onclick="loadContent('book-store.html')">Book Store</a></li>
                  <li><a onclick="loadContent('book-shelf.html')">My Book Shelf</a></li>
		  <li><a onclick="loadContent('profile.html')">My Profile</a></li>
                </ul>
              </div>
            </div><!-- End Manage Section -->
          </div>

          <div class="col-lg-8 ps-lg-5 iframe-container" data-aos="fade-up" data-aos-delay="200">
            <iframe id="contentFrame" src="book-store.html"></iframe>
          </div>
        </div>
      </div>
    </section><!-- /Service Details Section -->

  </main>

  <footer id="footer" class="footer position-relative">
    <div class="container copyright text-center mt-4">
      <p>Â© <span>Copyright</span> <strong class="px-1 sitename">EduVerse</strong><span> All Rights Reserved</span></p>
    </div>
  </footer>

  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

  <!-- Main JS File -->
  <script src="assets/js/main.js"></script>
  <script src="assets/js/main-content.js"></script>

  <!-- Firebase JS SDK -->
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>

  <!-- Firebase Config -->
  <script src="assets/js/firebase-config.js"></script>

  <!-- Custom Script to Load User Data -->
  <script>
    function loadContent(url) {
      document.getElementById('contentFrame').src = url;
    }

    // Load user data
    firebase.auth().onAuthStateChanged((user) => {
      if (user) {
        const email = user.email;

        // Fetch user data from database
        firebase.database().ref('users').orderByChild('email').equalTo(email).once('value', function (snapshot) {
          if (snapshot.exists()) {
            snapshot.forEach(function (childSnapshot) {
              const userData = childSnapshot.val();
              document.getElementById('userName').textContent = userData.username;
            });
          } else {
            console.error('User data not found.');
          }
        });
      } else {
        console.error('No user is signed in.');
      }
    });
  </script>

</body>

</html>
